<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Bio Page</title>
</head>
<body>
  <h2>Ch√†o m·ª´ng b·∫°n!</h2>
  <p>B·∫°n ƒë√£ v∆∞·ª£t link th√†nh c√¥ng üéâ</p>
  <div id="key"></div>

  <script>
    async function main() {
      const params = new URLSearchParams(window.location.search);
      const sid = params.get("sid");

      // T·∫°o key d·∫°ng DUC_sid
      const newKey = "DUC_" + sid;

      // Hi·ªÉn th·ªã key
      document.getElementById("key").innerText = "üîë Key c·ªßa b·∫°n: " + newKey;

      // Push key v√†o Gist
      const GIST_ID = "bcacd8810c48a5788e0bba0cdb428aac";
      const GIST_FILE = "key.json";
      const GITHUB_TOKEN = "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"; // ‚ö†Ô∏è kh√¥ng ƒë·ªÉ token public, ch·ªâ d√πng khi b·∫°n test local th√¥i

      // L·∫•y key.json
      const resp = await fetch(`https://gist.githubusercontent.com/ducdzvcl123/${GIST_ID}/raw/${GIST_FILE}`);
      let data = [];
      try {
        data = await resp.json();
      } catch (e) {}

      if (!data.includes(newKey)) {
        data.push(newKey);

        // üî• N·∫øu ch·∫°y local, b·∫°n c√≥ th·ªÉ g·ª≠i fetch PATCH t·ªõi GitHub API v·ªõi token
        // C√≤n n·∫øu host public, b·∫°n ch·ªâ n√™n ƒë·ªÉ Python tool update th√¥i, kh√¥ng ƒë·ªÉ token l·ªô ra.
      }
    }
    main();
  </script>
</body>
</html>
